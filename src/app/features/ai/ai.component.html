<section class="section p-4 mb-4">
  <div class="transition-all duration-300 max-w-2xl mx-auto">
    <div class="sticky top-0 z-30 bg-[var(--color-bg)] py-2 pb-4">
      <h2 class="text-xl font-semibold mb-4 text-[var(--theme-color)] text-center">ðŸ’¬ AI Assistant
      </h2>
      <!-- Chat-style Input Area -->
      <div class="flex gap-2 items-center">
        <!-- Send Button with Icon -->

        <!-- Input Field -->
        <input type="text" [(ngModel)]="userInput" placeholder="Ask something related to your expenses..."
          class="flex-1 px-4 py-2 rounded-lg border text-[var(--input-text)] bg-[var(--input-bg)] border-[var(--input-border)] focus:outline-none focus:ring-2 focus:ring-[var(--theme-color)] transition-all duration-200" />

        <button (click)="send()"
          class="shrink-0 bg-[var(--theme-color)] p-3 rounded-full shadow hover:scale-105 transition-transform duration-200"
          title="Send">
          <img src="assets/img/icon/icons8-send-48.png" alt="Send" class="w-5 h-5" style="filter:invert(100%)" />
        </button>
      </div>
    </div>
    <!-- AI Response Box -->
    <div *ngIf="responseHtml" class="mt-1 p-1 pb-4 bg-[var(--color-bg)] animate-fade-in overflow-auto"
      [innerHTML]="responseHtml"></div>
  </div>
</section>





<!-- for chat -->

<!-- <section class="p-4 section">
  <div class="p-4 max-w-xl mx-auto">
    <div class="space-y-4 mb-4">
      <div *ngFor="let msg of messages">
        <div [ngClass]="{
          'text-right': msg.role === 'user',
          'text-left': msg.role === 'model'
        }">
          <div [ngClass]="{
            'bg-blue-100 text-blue-800': msg.role === 'user',
            'bg-gray-100 text-gray-800': msg.role === 'model'
          }" class="inline-block px-4 py-2 rounded-lg max-w-full overflow-x-auto">
            <ng-container *ngIf="msg.role === 'user'; else markdownReply">
              {{ msg.parts[0].text }}
            </ng-container>
            <ng-template #markdownReply>
              <div [innerHTML]="msg.safeHtml"></div>
            </ng-template>
          </div>
        </div>
      </div>
      <div *ngIf="loading" class="text-center text-gray-400">Thinking...</div>
    </div>

    <div class="flex gap-2">
      <input type="text" [(ngModel)]="userInput" placeholder="Type your message..." class="w-full p-2 border rounded"
        (keydown.enter)="send()" />
      <button (click)="send()" class="bg-blue-500 text-white px-4 py-2 rounded" [disabled]="loading">
        Send
      </button>
    </div>
  </div>
</section> -->